---
title: Thread-1122762
url: https://forum.mikrotik.com/viewtopic.php?p=1122762&sid=49f92a630bc7970d8ca50523be880e8f#p1122762
thread_id: 1122762
section: RouterOS
post_count: 13
date_crawled: 2025-02-03T13:17:32.071536
---

### Post 1
Author: Unknown
Date: Unknown

Hello everyone!At the end of September 2024, we built an x86 server in the configuration:Motherboard - SuperMicro X10SRi-FCPU - Xeon E5-2697A v4RAM - Kingston 8Gb 2133MHzNIC - Intel X520-DA2All this time, 3-4 days after the reboot, which has to be done once a week because of this, there is a gradual loading of 1 core, with an increase to a peak close to 100% threshold. This problem persists starting with version 7.15 during the initial installation, and ending with the current 7.17Below is the CPU load graph (few month)graph (2).pngfew daysgraph (3).png

---
### Post 2
Author: Unknown
Date: Unknown

What doesProfilershow?

---
### Post 3
Author: Unknown
Date: Unknown

Can you as well share your config?Code:Select all/exportfile=anynameyoulikeRemove serial and any other private info.

---
### Post 4
Author: Unknown
Date: Unknown

What doesProfilershow?The load goes through the firewall3_firewall.png2_firewall.png1_firewall.pngI found a possible reason, but I didn't understand why it was happening gradually, as an accumulation effect. It seems to be related to the connection tracker. I have used the script to clean up old connections several times, for which there was no activity for more than 60 seconds. And it showed a sharp drop in load. But what is more interesting is that the load is initially distributed across all cores, but then it seems to fall on one core and stops parallelizing. Perhaps this is a failure of the internal load balancing logic. The strangest thing is that this happens only ater 3-4 days and is increasing.

---
### Post 5
Author: Unknown
Date: Unknown

Can you as well share your config?Code:Select all/exportfile=anynameyoulikeRemove serial and any other private info.Maybe you want to see something specific, some sections like Firewall, etc.? the file is very large to clean it from excess or post the whole thing.

---
### Post 6
Author: Unknown
Date: Unknown

I would like to see both /interface and /ip/firewall (and perhaps complete /ip).

---
### Post 7
Author: Unknown
Date: Unknown

look at: rx/tx p/s in interface menuCode:Select all/ipfifipr co

---
### Post 8
Author: Unknown
Date: Unknown

look at: rx/tx p/s in interface menutx-rx.pngCode:Select all/ipfifipr co21

---
### Post 9
Author: Unknown
Date: Unknown

What doesProfilershow?The load goes through the firewall3_firewall.png2_firewall.png1_firewall.pngI found a possible reason, but I didn't understand why it was happening gradually, as an accumulation effect. It seems to be related to the connection tracker. I have used the script to clean up old connections several times, for which there was no activity for more than 60 seconds. And it showed a sharp drop in load. But what is more interesting is that the load is initially distributed across all cores, but then it seems to fall on one core and stops parallelizing. Perhaps this is a failure of the internal load balancing logic. The strangest thing is that this happens only ater 3-4 days and is increasing.check actual connections withCode:Select allip/firewall/connection/tracking/print

---
### Post 10
Author: Unknown
Date: Unknown

Code:Select all/ipfico tr pr

---
### Post 11
Author: Unknown
Date: Unknown

Code:Select all/ipfico tr prIMO your post would be much better if you used full commands and properties instead of these obfuscated code snippets. If not for other thing, these snipets might stop working if some future ROS would add new configuration branch/command with name beginning with same two characters as existing branch/command.

---
### Post 12
Author: Unknown
Date: Unknown

Code:Select all/ipfico tr prI'll take the data at peak load later in the evening.mikrotik.png

---
### Post 13
Author: Unknown
Date: Unknown

Code:Select all/ipfico tr prPeek timemikrotik.png

---
