---
title: Thread-213564
url: https://forum.mikrotik.com/viewtopic.php?f=2&t=213564&p=1116837&amp;sid=49f92a630bc7970d8ca50523be880e8f#p1116837
thread_id: 213564
section: RouterOS
post_count: 41
date_crawled: 2025-02-03T14:09:12.397898
---

### Post 1
Author: Unknown
Date: Unknown

Hello to all Mikrotik enthusiasts,Merry Christmas and Happy New Year!I recently purchased a new Mikrotik L009UiGS-RM. Using the default configuration, I’m trying to open port 443 (and other ports) on it, but for some reason—unknown to me—I haven’t been able to.The ether1 interface has a WAN connection with the public IP address xxx.xx.xx.123. There is another public IP (xxx.xx.xx.122) on the same interface, but you can ignore it for now.the ip 192.168.88.200 represent my server.So please advise.here is my configuration:Code:Select all[b]#2024-12-2818:54:30byRouterOS7.12.2# software id =## model = L009UiGS# serial number =/interfacebridgeaddcomment=defconf name=WANaddcomment=defconf name=LAN/interfacewireless security-profilesset[finddefault=yes]supplicant-identity=MikroTik/ip pooladdname=default-dhcp ranges=192.168.88.10-192.168.88.190/ip dhcp-serveraddaddress-pool=default-dhcpinterface=bridge lease-time=10mname=defconf/portset0name=serial0/interfacebridge portaddbridge=bridge comment=defconfinterface=ether2addbridge=bridge comment=defconfinterface=ether3addbridge=bridge comment=defconfinterface=ether4addbridge=bridge comment=defconfinterface=ether5addbridge=bridge comment=defconfinterface=ether6addbridge=bridge comment=defconfinterface=ether7addbridge=bridge comment=defconfinterface=ether8/ip neighbor discovery-settingssetdiscover-interface-list=LAN/interfacelist memberaddcomment=defconfinterface=bridge list=LANaddcomment=defconfinterface=ether1 list=WAN/ip addressaddaddress=192.168.88.1/24comment=defconfinterface=bridge network=\192.168.88.0addaddress=xxx.xx.xx.123/24interface=ether1 network=xxx.xx.xx.0addaddress=xxx.xx.xx.122/24interface=ether1 network=xxx.xx.xx.0/ip dhcp-clientaddcomment=defconfinterface=ether1/ip dhcp-server networkaddaddress=192.168.88.0/24comment=defconf dns-server=192.168.88.1gateway=\192.168.88.1/ip dnssetallow-remote-requests=yes servers=1.1.1.1/ip dnsstaticaddaddress=192.168.88.1comment=defconf name=router.lan/ip firewall filteraddaction=accept chain=input comment=\"defconf: accept established,related,untracked"connection-state=\
    established,related,untrackedaddaction=drop chain=input comment="defconf: drop invalid"connection-state=\
    invalidaddaction=accept chain=input comment="defconf: accept ICMP"protocol=icmpaddaction=accept chain=input comment=\"defconf: accept to local loopback (for CAPsMAN)"dst-address=127.0.0.1addaction=drop chain=input comment="defconf: drop all not coming from LAN"\in-interface-list=!LANaddaction=accept chain=forward comment="defconf: accept in ipsec policy"\
    ipsec-policy=in,ipsecaddaction=accept chain=forward comment="defconf: accept out ipsec policy"\
    ipsec-policy=out,ipsecaddaction=fasttrack-connection chain=forward comment="defconf: fasttrack"\
    connection-state=established,related hw-offload=yesaddaction=accept chain=forward comment=\"defconf: accept established,related, untracked"connection-state=\
    established,related,untrackedaddaction=drop chain=forward comment="defconf: drop invalid"\
    connection-state=invalidaddaction=drop chain=forward comment=\"defconf: drop all from WAN not DSTNATed"connection-nat-state=!dstnat \
    connection-state=newin-interface-list=WAN/ip firewall nataddaction=src-nat chain=srcnat comment="defconf: masquerade"ipsec-policy=\out,noneout-interface-list=WAN src-address=192.168.88.0/24to-addresses=\
    xxx.xx.xx.123addaction=src-nat chain=srcnat comment="defconf: masquerade"ipsec-policy=\out,noneout-interface-list=WAN src-address=192.168.88.0/24to-addresses=\
    xxx.xx.xx.122addaction=dst-nat chain=dstnat dst-address=xxx.xx.xx.123dst-port=443\
    protocol=tcp to-addresses=192.168.88.200to-ports=443addaction=dst-nat chain=dstnat dst-address=xxx.xx.xx.123dst-port=443\
    protocol=udp to-addresses=192.168.88.200to-ports=443addaction=dst-nat chain=dstnat dst-address=xxx.xx.xx.123dst-port=3306\
    protocol=tcp to-addresses=192.168.88.200to-ports=3306addaction=dst-nat chain=dstnat dst-address=xxx.xx.xx.123dst-port=115\
    protocol=tcp to-addresses=192.168.88.200to-ports=115addaction=dst-nat chain=dstnat dst-address=xxx.xx.xx.123dst-port=3389\
    protocol=tcp to-addresses=192.168.88.200to-ports=3389addaction=dst-nat chain=dstnat dst-address=xxx.xx.xx.123dst-port=22\
    protocol=tcp to-addresses=192.168.88.200to-ports=22addaction=dst-nat chain=dstnat dst-address=xxx.xx.xx.123dst-port=80\
    protocol=tcp to-addresses=192.168.88.200to-ports=80/ip routeadddisabled=nodst-address=0.0.0.0/0gateway=xxx.xx.xx.1routing-table=main \
    suppress-hw-offload=no/ip servicesettelnet disabled=yessetftp disabled=yessetwww disabled=yessetssh disabled=yessetapi disabled=yessetapi-ssl disabled=yes/ipv6 firewall address-listaddaddress=::/128comment="defconf: unspecified address"list=bad_ipv6addaddress=::1/128comment="defconf: lo"list=bad_ipv6addaddress=fec0::/10comment="defconf: site-local"list=bad_ipv6addaddress=::ffff:0.0.0.0/96comment="defconf: ipv4-mapped"list=bad_ipv6addaddress=::/96comment="defconf: ipv4 compat"list=bad_ipv6addaddress=100::/64comment="defconf: discard only "list=bad_ipv6addaddress=2001:db8::/32comment="defconf: documentation"list=bad_ipv6addaddress=2001:10::/28comment="defconf: ORCHID"list=bad_ipv6addaddress=3ffe::/16comment="defconf: 6bone"list=bad_ipv6/ipv6 firewall filteraddaction=accept chain=input comment=\"defconf: accept established,related,untracked"connection-state=\
    established,related,untrackedaddaction=drop chain=input comment="defconf: drop invalid"connection-state=\
    invalidaddaction=accept chain=input comment="defconf: accept ICMPv6"protocol=\
    icmpv6addaction=accept chain=input comment="defconf: accept UDP traceroute"port=\33434-33534protocol=udpaddaction=accept chain=input comment=\"defconf: accept DHCPv6-Client prefix delegation."dst-port=546protocol=\
    udp src-address=fe80::/10addaction=accept chain=input comment="defconf: accept IKE"dst-port=500,4500\
    protocol=udpaddaction=accept chain=input comment="defconf: accept ipsec AH"protocol=\
    ipsec-ahaddaction=accept chain=input comment="defconf: accept ipsec ESP"protocol=\
    ipsec-espaddaction=accept chain=input comment=\"defconf: accept all that matches ipsec policy"ipsec-policy=in,ipsecaddaction=drop chain=input comment=\"defconf: drop everything else not coming from LAN"in-interface-list=\!LANaddaction=accept chain=forward comment=\"defconf: accept established,related,untracked"connection-state=\
    established,related,untrackedaddaction=drop chain=forward comment="defconf: drop invalid"\
    connection-state=invalidaddaction=drop chain=forward comment=\"defconf: drop packets with bad src ipv6"src-address-list=bad_ipv6addaction=drop chain=forward comment=\"defconf: drop packets with bad dst ipv6"dst-address-list=bad_ipv6addaction=drop chain=forward comment="defconf: rfc4890 drop hop-limit=1"\
    hop-limit=equal:1protocol=icmpv6addaction=accept chain=forward comment="defconf: accept ICMPv6"protocol=\
    icmpv6addaction=accept chain=forward comment="defconf: accept HIP"protocol=139addaction=accept chain=forward comment="defconf: accept IKE"dst-port=\500,4500protocol=udpaddaction=accept chain=forward comment="defconf: accept ipsec AH"protocol=\
    ipsec-ahaddaction=accept chain=forward comment="defconf: accept ipsec ESP"protocol=\
    ipsec-espaddaction=accept chain=forward comment=\"defconf: accept all that matches ipsec policy"ipsec-policy=in,ipsecaddaction=drop chain=forward comment=\"defconf: drop everything else not coming from LAN"in-interface-list=\!LAN/system clocksettime-zone-name=/system notesetshow-at-login=no/system routerboard settingssetenter-setup-on=delete-key/tool mac-serversetallowed-interface-list=LAN/tool mac-server mac-winboxsetallowed-interface-list=LAN[/b]

---
### Post 2
Author: Unknown
Date: Unknown

There is nothing unusual in your configuration, so since it "doesn't work", my first question is how do you test it. If you try to connect to x.x.x.123 from a device in 192.168.88.0/24, you would have to set up a "hairpin NAT" to make it work when the server is also in 192.168.88.0/24. But there are better approaches if you need clients in LAN to access a server in LAN via the public address, and if you only need it for testing, it is better to test it from the internet, i.e. the same way it will work in production.Also, you only need to set to-ports in NAT rules if you want them to change the ports - in your case, it is not necessary. But nor is it harmful.

---
### Post 3
Author: Unknown
Date: Unknown

There is nothing unusual in your configuration, so since it "doesn't work", my first question is how do you test it. If you try to connect to x.x.x.123 from a device in 192.168.88.0/24, you would have to set up a "hairpin NAT" to make it work when the server is also in 192.168.88.0/24. But there are better approaches if you need clients in LAN to access a server in LAN via the public address, and if you only need it for testing, it is better to test it from the internet, i.e. the same way it will work in production.Also, you only need to set to-ports in NAT rules if you want them to change the ports - in your case, it is not necessary. But nor is it harmful.Hello Sindy.1-I am testing from outside, but that doesn't matter—it should work from both sides. I have the exact same setup with my CCR2004, and I can see the port is open from both outside and inside.2-No, I want to open this port to make my server accessible from outside my LAN.

---
### Post 4
Author: Unknown
Date: Unknown

@Techsystem: could you be so kind and edit your post to apply proper tags for code?

---
### Post 5
Author: Unknown
Date: Unknown

1-I am testing from outside, but that doesn't matter—it should work from both sides. I have the exact same setup with my CCR2004, and I can see the port is open from both outside and inside.Open a command line window, make it as wide as your screen allows, run/tool sniffer quick port=3389in it, and try establishing a RDP connection from the test client to the server. It should show you whether the connection attempt arrives at all and if yes, what happens next.

---
### Post 6
Author: Unknown
Date: Unknown

@Techsystem: could you be so kind and edit your post to apply proper tags for code?Hey BartoszP, You mean like this above..?recheck the post.

---
### Post 7
Author: Unknown
Date: Unknown

Perfetto as would Italian say.

---
### Post 8
Author: Unknown
Date: Unknown

1-I am testing from outside, but that doesn't matter—it should work from both sides. I have the exact same setup with my CCR2004, and I can see the port is open from both outside and inside.Open a command line window, make it as wide as your screen allows, run/tool sniffer quick port=3389in it, and try establishing a RDP connection from the test client to the server. It should show you whether the connection attempt arrives at all and if yes, what happens next.Here is what I get when trying to establish a Remote Desktop connection to the server:On my side, the connection keeps rendering, and in the end, I receive a "connection timeout" error.

---
### Post 9
Author: Unknown
Date: Unknown

What does/ip arp print where address=192.168.88.200show? The firewall rules are OK, there are no IPsec policies, no routing tables except main, no rules in raw... so unless there is a typo in the .123 address in the dst-nat rules, if the server at 192.168.88.200 can be pinged from the router itself, it looks like a bug.

---
### Post 10
Author: Unknown
Date: Unknown

What does/ip arp print where address=192.168.88.200show? The firewall rules are OK, there are no IPsec policies, no routing tables except main, no rules in raw... so unless there is a typo in the .123 address in the dst-nat rules, if the server at 192.168.88.200 can be pinged from the router itself, it looks like a bug.

---
### Post 11
Author: Unknown
Date: Unknown

What does/ip arp print where address=192.168.88.200show? The firewall rules are OK, there are no IPsec policies, no routing tables except main, no rules in raw... so unless there is a typo in the .123 address in the dst-nat rules, if the server at 192.168.88.200 can be pinged from the router itself, it looks like a bug.

---
### Post 12
Author: Unknown
Date: Unknown

Is the target host a Windows machine ?No host-firewall issues ?If a Linux, can you do a quick "tcpdump" to see what actually ARRIVES there ?If a Windows, perhaps quickly install "Wireshark" or something for a test.

---
### Post 13
Author: Unknown
Date: Unknown

Have you ever modified the dst-nat rules or have you put them in exactly the way they look now?In recent ROS 7 versions, there is a nasty bug with some configuration items - if you modify them, the changes do not make it from the "visible" configuration to the "running" one. In some cases, disabling and enabling that item helps, in other cases it apparently doesn't. I don't know since when the bug is there so 7.12.2 may or may not be affected.In any case, please try the following:/ip firewall nat add chain=dstnat in-interface=ether1 protocol=tcp dst-port=3389 action=dst-nat to-addresses=192.168.88.200 place-before=[find where dst-port~"3389"]and then try testing while sniffing like in the first case again.

---
### Post 14
Author: Unknown
Date: Unknown

Are You sure Your ISP isn't blocking the port? 443 is HTTPS - and ISPs love to block it on residential installations. Set the a firewall rule to log access to this port, and see if something is getting in.

---
### Post 15
Author: Unknown
Date: Unknown

@Paternot, the first sniff result shows that the initial packet for port 3389 did arrive to ether1, so the ISP does not block it.@Techsystem, @jvanhambelgium's suggestion made me realize I may have jumped to conclusions too quickly - for the bridge port via which the server at .88.200 is reachable, sethwon the corresponding/interface bridge portrow tonoand run the sniffer again. Sniffing on ports withhw=yesmay not show some traffic.

---
### Post 16
Author: Unknown
Date: Unknown

1.   The first problem I see is that you have bothan IP address for WAN on ether1ANDa dhcp client on ether1.It cannot be both!!!If your certain about the IP address disable the dhcp client.2 Suggest changing this default rule to three rules which are clearer as to the functionality and a bit more secure as well.from:add action=drop chain=forward comment=\"defconf: drop all from WAN not DSTNATed" connection-nat-state=!dstnat \connection-state=new in-interface-list=WANTO:add action=accept chain=forward comment="internet traffic"  in-interface-list=LAN out-interface-list=WANadd action=accept chain=forward comment="port forwarding"  connection-nat-state=dstnatadd action=drop chain=forward comment="drop all else"3.  Masquerade rules are misleading in that the comments should be removed ( these are action sourcenat NOT masquerade )I dont think you need source address of the lan either but probably no harm./ip firewall natadd action=src-nat chain=srcnat comment="defconf: masquerade"ipsec-policy=\out,none out-interface-list=WAN src-address=192.168.88.0/24 to-addresses=\xxx.xx.xx.123add action=src-nat chain=srcnat comment="defconf: masquerade"ipsec-policy=\out,none out-interface-list=WAN src-address=192.168.88.0/24 to-addresses=\xxx.xx.xx.1224. Other than that, dont see anything.

---
### Post 17
Author: Unknown
Date: Unknown

1.   The first problem I see is that you have bothan IP address for WAN on ether1ANDa dhcp client on ether1.It cannot be both!!!Of course it can be both, but one need to /really/ know that's what they want.Case in point, DOCSIS cable modems have the hard-coded-in-standard 192.168.100.1 IP for the management interface.I have the modem configured in bridge mode, so it assigns me an upstream IP by DHCP and a gateway IP somewhere "up there" in ISP's network. It does not do any routing tasks.And so, I have secondary static 192.168.100.2 IP configured on the very same WAN interface next to the DHCP client, so I can access the modem and the internet at the same time.

---
### Post 18
Author: Unknown
Date: Unknown

@Paternot, the first sniff result shows that the initial packet for port 3389 did arrive to ether1, so the ISP does not block it.Port 3389. He was complaining about port 443, wasn't he? Here is quite common for ISPs to block ports below 1024. Don't know about his case though.

---
### Post 19
Author: Unknown
Date: Unknown

Is the target host a Windows machine ?No host-firewall issues ?If a Linux, can you do a quick "tcpdump" to see what actually ARRIVES there ?If a Windows, perhaps quickly install "Wireshark" or something for a test.Linux..I will when I get back to my office.

---
### Post 20
Author: Unknown
Date: Unknown

Have you ever modified the dst-nat rules or have you put them in exactly the way they look now?In recent ROS 7 versions, there is a nasty bug with some configuration items - if you modify them, the changes do not make it from the "visible" configuration to the "running" one. In some cases, disabling and enabling that item helps, in other cases it apparently doesn't. I don't know since when the bug is there so 7.12.2 may or may not be affected.In any case, please try the following:/ip firewall nat add chain=dstnat in-interface=ether1 protocol=tcp dst-port=3389 action=dst-nat to-addresses=192.168.88.200 place-before=[find where dst-port~"3389"]and then try testing while sniffing like in the first case again.I tried disabling and enabling all the items, but that doesn't work.here is the result

---
### Post 21
Author: Unknown
Date: Unknown

@Paternot, the first sniff result shows that the initial packet for port 3389 did arrive to ether1, so the ISP does not block it.@Techsystem, @jvanhambelgium's suggestion made me realize I may have jumped to conclusions too quickly - for the bridge port via which the server at .88.200 is reachable, sethwon the corresponding/interface bridge portrow tonoand run the sniffer again. Sniffing on ports withhw=yesmay not show some traffic.here is the result after I set hw to off in the target port.

---
### Post 22
Author: Unknown
Date: Unknown

1.   The first problem I see is that you have bothan IP address for WAN on ether1ANDa dhcp client on ether1.It cannot be both!!!If your certain about the IP address disable the dhcp client.2 Suggest changing this default rule to three rules which are clearer as to the functionality and a bit more secure as well.from:add action=drop chain=forward comment=\"defconf: drop all from WAN not DSTNATed" connection-nat-state=!dstnat \connection-state=new in-interface-list=WANTO:add action=accept chain=forward comment="internet traffic"  in-interface-list=LAN out-interface-list=WANadd action=accept chain=forward comment="port forwarding"  connection-nat-state=dstnatadd action=drop chain=forward comment="drop all else"3.  Masquerade rules are misleading in that the comments should be removed ( these are action sourcenat NOT masquerade )I dont think you need source address of the lan either but probably no harm./ip firewall natadd action=src-nat chain=srcnat comment="defconf: masquerade"ipsec-policy=\out,none out-interface-list=WAN src-address=192.168.88.0/24 to-addresses=\xxx.xx.xx.123add action=src-nat chain=srcnat comment="defconf: masquerade"ipsec-policy=\out,none out-interface-list=WAN src-address=192.168.88.0/24 to-addresses=\xxx.xx.xx.1224. Other than that, dont see anything.Hello anav.1-I was testing a few things and later disabled the IP client.2-I will change that.3-The default configuration included a masquerade comment, so I changed the rule without changing the comment, in my situation, masquerade doesn’t work. Therefore, I need to use src-nat instead.

---
### Post 23
Author: Unknown
Date: Unknown

@Paternot, the first sniff result shows that the initial packet for port 3389 did arrive to ether1, so the ISP does not block it.Port 3389. He was complaining about port 443, wasn't he? Here is quite common for ISPs to block ports below 1024. Don't know about his case though.I am trying to open ports 3389, 443, 3306, and others, but none of them are working until now.

---
### Post 24
Author: Unknown
Date: Unknown

1.   The first problem I see is that you have bothan IP address for WAN on ether1ANDa dhcp client on ether1.It cannot be both!!!Of course it can be both, but one need to /really/ know that's what they want.Case in point, DOCSIS cable modems have the hard-coded-in-standard 192.168.100.1 IP for the management interface.I have the modem configured in bridge mode, so it assigns me an upstream IP by DHCP and a gateway IP somewhere "up there" in ISP's network. It does not do any routing tasks.And so, I have secondary static 192.168.100.2 IP configured on the very same WAN interface next to the DHCP client, so I can access the modem and the internet at the same time.In my case, I am receiving the internet from the ONU.

---
### Post 25
Author: Unknown
Date: Unknown

Something to mention: I noticed that the only port responding to the rule isport 22. When I disable the dst NAT rule, the port closes.Port 80is open with and without the rule.Is it possible that something with the ONU unit is preventing the rule from working on the MikroTik?

---
### Post 26
Author: Unknown
Date: Unknown

After contacting my ISP, they explained that the problem is related to how my public IPs are assigned.I have two internet subscriptions, each with two public IPs:Subscription 1: xxx.xx.xx.64 and xxx.xx.xx.65Subscription 2: xxx.xx.xx.122 and xxx.xx.xx.123The issue is that both subscriptions are using the same gateway on the ISP's side. This shared gateway is causing routing and NAT conflicts, especially for destination NAT (dst-nat) rules on the second subscription.The ISP mentioned that they would change the public IP for me for the second subscription.Thank you to everyone who shared their help in this thread.

---
### Post 27
Author: Unknown
Date: Unknown

here is the result after I set hw to off in the target port.This sniffing result clearly shows that the port forwarding on Mikrotik works as expected and the issue is somewhere else.Look at the packets with timestamps 13.3xx (from the 3rd packet from the top on the picture):a packet to ..123:3389 arrives in via ether1a packet to ..88.200:3389 is sent out via bridge-the-IP-interface, so the dst-nat workedthe same packet is shown to leave the bridge-the-virtual-switch via ether2a response from the server (source address ..88.200:3389) arrives via ether2the same packet is shown to enter routing via bridge-the-IP-interfacethe same packet is sent out via ether1 after un-dst-nating the source address, i.e. from ..123:3389As you haven't shown the complete rows, it is impossible to say whether the server rejects the incoming connection requests or whether the responses get lost on their way from the L009 to the external client, but the L009 does its job properly.So I'd now try the same again and instead of snapshoting the graphical window, I'd stop the sniffer and run (within a few minutes, the buffer gets cleared afterwards)/tool sniffer packet print detail file=rdp-attempt, download the resulting filerdp-attempt.txt, use text substitution to replace the public address, and post the modified file here for further analysis.

---
### Post 28
Author: Unknown
Date: Unknown

here is the result after I set hw to off in the target port.This sniffing result clearly shows that the port forwarding on Mikrotik works as expected and the issue is somewhere else.Look at the packets with timestamps 13.3xx (from the 3rd packet from the top on the picture):a packet to ..123:3389 arrives in via ether1a packet to ..88.200:3389 is sent out via bridge-the-IP-interface, so the dst-nat workedthe same packet is shown to leave the bridge-the-virtual-switch via ether2a response from the server (source address ..88.200:3389) arrives via ether2the same packet is shown to enter routing via bridge-the-IP-interfacethe same packet is sent out via ether1 after un-dst-nating the source address, i.e. from ..123:3389As you haven't shown the complete rows, it is impossible to say whether the server rejects the incoming connection requests or whether the responses get lost on their way from the L009 to the external client, but the L009 does its job properly.So I'd now try the same again and instead of snapshoting the graphical window, I'd stop the sniffer and run (within a few minutes, the buffer gets cleared afterwards)/tool sniffer packet print detail file=rdp-attempt, download the resulting filerdp-attempt.txt, use text substitution to replace the public address, and post the modified file here for further analysis.Thank you, Sindy. Your conclusion is correct, and the above solution approves that.

---
### Post 29
Author: Unknown
Date: Unknown

1. how comes that the fact that there are two other public addresses, probably attached to another WAN, was not visible from your configuration export? Did you remove some rows you've assumed not to be relevant?2. the srcnat rules in your export that only differ from each other by theto-addressesparameter will not work the way you expect. The first (upper) one shadows the second (lower) one, so all connections initiated from the LAN side will be src-nated to ..123.

---
### Post 30
Author: Unknown
Date: Unknown

1. how comes that the fact that there are two other public addresses, probably attached to another WAN, was not visible from your configuration export? Did you remove some rows you've assumed not to be relevant?2. the srcnat rules in your export that only differ from each other by theto-addressesparameter will not work the way you expect. The first (upper) one shadows the second (lower) one, so all connections initiated from the LAN side will be src-nated to ..123.No, I didn’t remove anything. However, I have two separate network connections, each with its own MikroTik router, but both share the same gateway.After my ISP changed the gateway and subnet, the issue persisted. I initially marked this as solved based on their feedback, but now it’s clear that it’s not resolved.If I don’t have a service running on a specific port, is there a tool I can use to make the port active?I downloaded FileZilla and set it to use port 443, which worked and opened the port. However, this approach didn’t work for other ports.Do you know of a tool I can use to run a service on ports like 3389, 3306, 115, etc.?

---
### Post 31
Author: Unknown
Date: Unknown

I'm not good in Windows, but I'd say you can make use ofto-portsand use a single service you know to work alright on the server (e.g. SSH at TCP port 22) and use one dst-nat rule at a time to forward the individual "outer" ports to it, likechain=dstnat in-interface=ether1 protocol=tcp dst-port=3389 action=dst-nat to-addresses=192.168.88.200 to-ports=22Of course, you would have to use an SSH client to test and tell it to contact port 3389 at ...123.Other than that, it was exactly the point of my question - if the other two public addresses in the same subnet were not attached to another interface of the same Mikrotik, it could not be the reason why it behaved like it did (and still does).But maybe the server at 192.168.88.200 has multiple network interfaces and each is connected to another Mikrotik?

---
### Post 32
Author: Unknown
Date: Unknown

I'm not good in Windows, but I'd say you can make use ofto-portsand use a single service you know to work alright on the server (e.g. SSH at TCP port 22) and use one dst-nat rule at a time to forward the individual "outer" ports to it, likechain=dstnat in-interface=ether1 protocol=tcp dst-port=3389 action=dst-nat to-addresses=192.168.88.200 to-ports=22Of course, you would have to use an SSH client to test and tell it to contact port 3389 at ...123.Other than that, it was exactly the point of my question - if the other two public addresses in the same subnet were not attached to another interface of the same Mikrotik, it could not be the reason why it behaved like it did (and still does).But maybe the server at 192.168.88.200 has multiple network interfaces and each is connected to another Mikrotik?Okay, in this case, I can see that all my ports are open, but is this the right way to open ports? I am concerned about ports 443, 3306, 115, and 22. I don't need the others, like port 3389 (which was just for testing). Now, if an external request comes to port 3306 and then redirected to port 22, is that okay?

---
### Post 33
Author: Unknown
Date: Unknown

Okay, in this case, I can see that all my ports are open, but is this the right way to open ports?If you want ports open, then this is the right way. If you're concerned about security, then don't open them. Or restrict access to those ports.

---
### Post 34
Author: Unknown
Date: Unknown

One option:  use source address list on dstnat rule to make ports appear closed on scans and of course limits access........ ( external wanips can be spoofed )Second option:  have users wireguard in to the router and then access serversThird option:  Future case when Mikrotik adds zerotrust cloudflare tunnel so that ALL MT folks, one day, can safely host servers free from attacks........   circa 2050 maybe.......

---
### Post 35
Author: Unknown
Date: Unknown

is this the right way to open ports?Of course it is not the right way to open ports, but it is the right way to analyze the issue you experience, and I've suggested it for the latter purpose.You have got an issue somewhere on a complex network path between the client application and the server application; in these cases, the first step is to identify the particular part of the path which causes the problem. So by redirecting all the ports you want to use, one by one, to a known-good port (22) on the server using the Mikrotik, we have proven that all the way from the client via the internet to the Mikrotik, the connections to all those ports work alright, so the issue must be between the Mikrotik and the server application. Since the server did respond somehow to incoming packets to port 3389, chances are very high that the issue is in fact in the networking configuration of the server.So on the Mikrotik, the target configuration is to redirect incoming traffic to the desired ports to the address of the server without changing the port, but before we get there, we have to find out why the server handles incoming connections to port 22 alright but struggles with the rest.So we come back to my original question, how many network interfaces does the server have?

---
### Post 36
Author: Unknown
Date: Unknown

is this the right way to open ports?Of course it is not the right way to open ports, but it is the right way to analyze the issue you experience, and I've suggested it for the latter purpose.You have got an issue somewhere on a complex network path between the client application and the server application; in these cases, the first step is to identify the particular part of the path which causes the problem. So by redirecting all the ports you want to use, one by one, to a known-good port (22) on the server using the Mikrotik, we have proven that all the way from the client via the internet to the Mikrotik, the connections to all those ports work alright, so the issue must be between the Mikrotik and the server application. Since the server did respond somehow to incoming packets to port 3389, chances are very high that the issue is in fact in the networking configuration of the server.So on the Mikrotik, the target configuration is to redirect incoming traffic to the desired ports to the address of the server without changing the port, but before we get there, we have to find out why the server handles incoming connections to port 22 alright but struggles with the rest.So we come back to my original question, how many network interfaces does the server have?So far, so good. The server has four interfaces: the first one is connected directly to the ONU unit with a public IP, and the second is connected to the MikroTik with the IP address 192.168.88.200. The server is on my side, but the configuration and password are with the other party, who I believe is a professional. They asked me to open this port, so I assume they know how to configure the network interface for it.

---
### Post 37
Author: Unknown
Date: Unknown

One option:  use source address list on dstnat rule to make ports appear closed on scans and of course limits access........ ( external wanips can be spoofed )Second option:  have users wireguard in to the router and then access serversThird option:  Future case when Mikrotik adds zerotrust cloudflare tunnel so that ALL MT folks, one day, can safely host servers free from attacks........   circa 2050 maybe.......Nice mention!

---
### Post 38
Author: Unknown
Date: Unknown

The server has four interfaces: the first one is connected directly to the ONU unit with a public IP, and the second is connected to the MikroTik with the IP address 192.168.88.200.(...)I assume they know how to configure the network interface for it.Assumption is good, knowledge is better. Professionals are just people who get paid for what they do, but we all make mistakes, regardless whether we currently wear the professional hat or the enthusiast one. There must be a deterministic reason why the server responds alright on port 22 but doesn't on the other ones.A server that has multiple interfaces and at least one of them is behind a NAT must use some kind of policy routing (or VRF or network "namespace") to make sure to send responses to incoming requests from the same address to which those requests arrived and via the same interface through which they arrived, otherwise the responses will not get properly un-dst-nated and the client will not recognize them even if the ISP lets them get through despite their incorrect (from its perspective) source address. This part seems to be configured properly as the response did come back to the Mikrotik although its destination was a public address somewhere in the internet, so without policy routing, it would have taken the other route.However, most server processes can be told to listen on all addresses of the server or only on specific ones. So if the incoming connections to port 3389 are actively rejected (sniffing as described earlier will clearly show whether it is the case), the reason may be that the process only listens on other address(es) than 192.168.88.200; in such a case (and several other ones), the TCP stack would reject the connection by sending a RST packet in response to the SYN one.

---
### Post 39
Author: Unknown
Date: Unknown

The server has four interfaces: the first one is connected directly to the ONU unit with a public IP, and the second is connected to the MikroTik with the IP address 192.168.88.200.(...)I assume they know how to configure the network interface for it.Assumption is good, knowledge is better. Professionals are just people who get paid for what they do, but we all make mistakes, regardless whether we currently wear the professional hat or the enthusiast one. There must be a deterministic reason why the server responds alright on port 22 but doesn't on the other ones.A server that has multiple interfaces and at least one of them is behind a NAT must use some kind of policy routing (or VRF or network "namespace") to make sure to send responses to incoming requests from the same address to which those requests arrived and via the same interface through which they arrived, otherwise the responses will not get properly un-dst-nated and the client will not recognize them even if the ISP lets them get through despite their incorrect (from its perspective) source address. This part seems to be configured properly as the response did come back to the Mikrotik although its destination was a public address somewhere in the internet, so without policy routing, it would have taken the other route.However, most server processes can be told to listen on all addresses of the server or only on specific ones. So if the incoming connections to port 3389 are actively rejected (sniffing as described earlier will clearly show whether it is the case), the reason may be that the process only listens on other address(es) than 192.168.88.200; in such a case (and several other ones), the TCP stack would reject the connection by sending a RST packet in response to the SYN one.I think most Linux servers have an SSH service running on port 22, that's why so the service is already there. The ether1 interface that is connected to the ONU will be disconnected, but first, I just want to make sure that everything is properly configured on the ether2 interface on the server.

---
### Post 40
Author: Unknown
Date: Unknown

first, I just want to make sure that everything is properly configured on the ether2 interface on the server.That's a proper approach but I'm not sure how is that related to what I wrote.

---
### Post 41
Author: Unknown
Date: Unknown

Nice to know at the last minute that the server is directly connected to the ONT.   That is a slap upside your head moment.So besides two bizarro connections from the MT to the ISP device, you have a third ISP connection directly to the Server.Suggestion, remove connection directly to the ISP device.... and let MT handle all the connections..............Sindy should charge overtime for linux server  (nothing to do with mikrotik) help.

---
