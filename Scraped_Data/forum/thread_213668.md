---
title: Untitled Thread
source_url: https://forum.mikrotik.com/viewtopic.php?f=2&t=213668&p=1117437&amp;sid=95d2ad7b015c638d004fc75a15c077b1#p1117437
crawled_date: 2025-02-02T22:22:44.336271
section: RouterOS
type: forum_thread
---

### Author: Fri Jan 03, 2025 8:17 pm
Date: Unknown

```
Code:Select all/system/package/print
Columns: NAME, VERSION, BUILD-TIME, SIZE
# NAME      VERSION  BUILD-TIME           SIZE     
0 routeros  7.17rc3  2024-12-10 07:40:32  10.3MiB  
1 wireless  7.17rc3  2024-12-10 07:40:32  1464.1KiB
```

```
Code:Select all/ip dhcp-server option add code=6 name=AlternateDNS value="'192.168.1.105,8.8.8.8'"
```

```
Code:Select all/ip dhcp-server option-set add name=HostSpecificDNS options=AlternateDNS
```

```
Code:Select all/ip dhcp-server lease add address=192.168.1.101 mac-address=XX:XX:XX:XX:XX:XX option-set=HostSpecificDNS server=dhcp1
```

```
Code:Select all> /ip/dhcp-server/option/print                                      
Columns: NAME, CODE, VALUE, RAW-VALUE
#  NAME     CODE  VALUE                    RAW-VALUE                                 
0  option1     6  '192.168.1.105,8.8.8.8'  3139322e3136382e312e3130352c382e382e382e38
```

> nameserver[0] : 49.57.50.46nameserver[1] : 49.54.56.46nameserver[2] : 49.46.49.48nameserver[3] : 53.44.56.46nameserver[4] : 56.46.56.46

When configuring DHCP Option 6 (DNS Servers) on 7.17rc3 (not sure if it occurs on prior releases), providing a comma-separated list of IP addresses enclosed in single quotes (the correct format) results in the DHCP server incorrectly interpreting the ASCII representation of the IP address string as IP addresses themselves. This leads to clients receiving nonsensical DNS server IP addresses.Steps to Reproduce(including somewhat obvious steps)Create aDHCP OptionCreate aDHCP Option SetIdentify aTarget Host: Determine the MAC address of a client device that will be used for testing.Create aStatic DHCP LeaseRenew DHCP Leaseon the ClientObserved BehaviorInstead of receiving the configured DNS servers (e.g., 192.168.1.105 and 8.8.8., the client receives incorrect IP addresses. These incorrect addresses are a direct result of the MikroTik DHCP server interpreting the ASCII representation of the IP address string as octets of an IP address.Above you see that if the value is '192.168.1.105,8.8.8.8', the "raw value" seen in MikroTik is 3139322e3136382e312e3130352c382e382e382e38. The client then receives the following incorrect DNS server addresses:which areseeminglyrandom IPs in South Korea, until I started looking closer:49.57.50.46 (49='1', 57='9', 50='2', 46='.')49.54.56.46 (49='1', 54='6', 56='8', 46='.')And so on...


---
### Author: [SOLVED]Fri Jan 03, 2025 9:50 pm
Date: Unknown

It works as designed. The apostrophe syntax can handle a single IP address but not a list, however, you can concatenate elementary items. So the correct "spelling" looks like this:/ip dhcp-server option add code=6 name=AlternateDNS value="'192.168.1.105''8.8.8.8'"


---
### Author: Fri Jan 03, 2025 10:35 pm
Date: Unknown

> It works as designed. The apostrophe syntax can handle a single IP address but not a list, however, you can concatenate elementary items. So the correct "spelling" looks like this:/ip dhcp-server option add code=6 name=AlternateDNS value="'192.168.1.105''8.8.8.8'"

AhhhFantastic, that works. Thank you!


---
### Author: Fri Jan 03, 2025 11:15 pm
Date: Unknown

Just out of curiosity, what makes you manually define Option 6 rather than just setting the DNS server list on the/ip dhcp-server networkrow?

