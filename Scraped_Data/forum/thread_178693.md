---
title: Untitled Thread
source_url: https://forum.mikrotik.com/viewtopic.php?f=7&t=178693&p=1077021#p1077021
crawled_date: 2025-02-02T21:57:31.870862
section: mikrotik_forum
type: forum_thread
keywords: script
---

### Author: Mon Sep 20, 2021 10:04 am
Date: Unknown

Hi everyone,I've read several other topics about band steering and 5Ghz priority here on the forum. So I quite have the picture.Ever since I have my Chateau12 I wondered, why so many clients register with wlan1 (2.4Ghz) and hardly none at wlan2 (5Ghz). But I did not research, because there were other fields in ROS 7 that got my attention.So now I thought it is time to find out whats happening. So I opened the wireless network scanner on my macbook to find out, why it connects to 2.4Ghz instead of the faster 5Ghz.Please see it as an example:RSSI of 2.4Ghz: about -50RSSI of 5Ghz: about -70Where -70 is just a decent signal for 5Ghz, the client uses 2.4Ghz instead. After reconnecting Macbook-wifi, it first connects 5Ghz sometimes, but switched to 2.4Ghz after some 1 or 2minutes.I used Wifi-analyzer for Android, in most rooms/places where I use wifi-devices, I have round-about -70RSSI for 5Ghz.Mikrotik features no band steering.First approach:I added a wireless access lists to prevent clients to access wlan1 (2.4Ghz) in a signal better than -70RSSI. But that kind of sucks, as some of my clients are 2.4Ghz only (like Hap lite, map lite) and would not connect anymore. And I do not like to add some "whitelist" just for these devices. So I reverted the whitelist stuff again.Second approach:Lower tx-power of wlan1. I increased antenna-gain to 10. Now wlan1 transmits at 10dbm (was 17dbm) before. 2.4Ghz wireless signal got a little weaker, but still it has significant better RSSI than 5Ghz. But it seems, that some clients now already switch over to 5Ghz. But just a few. On the other hand I like to have wifi-signal when I am outside the house and/or at a far away room. So I'd like to keep TX-power at it's regulatory-maximum.Has anyone a better idea? Anyone has a script, that emulates some kind of "poor man's band steering"?It really annoys me, that sitting away like 5 meters from my Chateau12, that devices use 2.4Ghz. That's not nice and needs at least an improvement - when there is no real solution available.Thanks.


---
### Author: Mon Sep 20, 2021 2:21 pm
Date: Unknown

Use more APs. Shut of 2.4 on most of them. Turn down the 2.4 on the working ones. Bounce the 2.4 off and on for a few seconds at some interval.This is how I managed to steer devices onto 5Ghz if they have it.I started making this script that would add devices to and ACL once they connected to 5GHZ. Then I was going to use a rule that would check that ACL vs the signal on 2.4 and boot it...Then Apple/Google/Microsoft started adding the "private random Mac address" BY DEFAULT!!! That shot down my plans...


---
### Author: Tue Sep 21, 2021 2:58 pm
Date: Unknown

```
/interface wireless
set [ find default-name=wlan1 ] default-authentication=no

/interface wireless access-list
add allow-signal-out-of-range=30s interface=wlan1 signal-range=-120..-70
add interface=wlan1 mac-address=08:55:31:E4:E4:C9 comment="haplite 2ghz only"
```

Given that reducing TX-power of wlan1 to 10dbm did not improve the situation. Now I am back at a simple access-list solution. Not that optimal - but it works for now. I refuse to connect to 2.4ghz if signal is better than -70. It maybe could work with -60 or -65 too - but I need to slowly go down and watch the behaviour.I have only 2 devices that only support 2.4ghz band. HAP-lite and MAP-lite. The map is quite far away and has a signal of -75 due to the distance itself. The HAPlite is whitelisted.Code:Select all


---
### Author: Tue Sep 21, 2021 3:05 pm
Date: Unknown

```
IF device already connected to wlan2 AND want to connect to wlan1 AND wlan2-signal is better than -80: DENY connect to wlan1
```

One thing I noticed/observed:Some of my clients (Android, Macbook) first connect to 5ghz and switch over to 2.4ghz within approx a minute after connecting to 5ghz.For me this looks like, that these devices prefer 5ghz by default. They connect. Then they find 2.4ghz with "better" signal and switch over.--Has someone a script, that can handle following scenario?Pseudocode:Code:Select all


---
### Author: Wed Feb 09, 2022 8:57 pm
Date: Unknown

```
[admin@Omnitik] > interface wireless info country-info etsi
  ranges: 2402-2482/b,g,gn20,gn40(20dBm)
          5170-5250/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(23dBm)/passive,indoor
          5170-5330/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(20dBm)/dfs,passive,indoor
          5250-5330/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(20dBm)/dfs,passive,indoor
          5490-5710/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(27dBm)/dfs,passive
          5190-5310/a-turbo(20dBm)/dfs
          5180-5300/a-turbo(20dBm)/dfs
          5520-5680/a-turbo(27dBm)/dfs,passive
          5510-5670/a-turbo(27dBm)/dfs,passive
          902-927/b,g,g-turbo,gn20,gn40(30dBm)


[admin@MktwAPac] /interface wireless info> allowed-channels 
interface: wlan2
  channels: 5180/20-Ce/ac/P(21dBm),5185/20-Ce/ac/P(21dBm),5190/20-Ce/ac/P(21dBm),5195/20-Ce/ac/P(21dBm),
            5200/20-Ce/ac/P(21dBm),5205/20-Ce/ac/P(21dBm),5210/20-Ce/ac/P(21dBm),5215/20-Ce/ac/P(21dBm),
            5220/20-Ce/ac/P(21dBm),5180/20-Ce/ac/DP(18dBm),5185/20-Ce/ac/DP(18dBm),5190/20-Ce/ac/DP(18dBm),
            5195/20-Ce/ac/DP(18dBm),5200/20-Ce/ac/DP(18dBm),5205/20-Ce/ac/DP(18dBm),5210/20-Ce/ac/DP(18dBm),
            5215/20-Ce/ac/DP(18dBm),5220/20-Ce/ac/DP(18dBm),5225/20-Ce/ac/DP(18dBm),5230/20-Ce/ac/DP(18dBm),
            5235/20-Ce/ac/DP(18dBm),5240/20-Ce/ac/DP(18dBm),5245/20-Ce/ac/DP(18dBm),5250/20-Ce/ac/DP(18dBm),
            5255/20-Ce/ac/DP(18dBm),5260/20-Ce/ac/DP(18dBm),5265/20-Ce/ac/DP(18dBm),5270/20-Ce/ac/DP(18dBm),
            5275/20-Ce/ac/DP(18dBm),5280/20-Ce/ac/DP(18dBm),5285/20-Ce/ac/DP(18dBm),5290/20-Ce/ac/DP(18dBm),
            5295/20-Ce/ac/DP(18dBm),5300/20-Ce/ac/DP(18dBm),5260/20-Ce/ac/DP(18dBm),5265/20-Ce/ac/DP(18dBm),
            5270/20-Ce/ac/DP(18dBm),5275/20-Ce/ac/DP(18dBm),5280/20-Ce/ac/DP(18dBm),5285/20-Ce/ac/DP(18dBm),
            5290/20-Ce/ac/DP(18dBm),5295/20-Ce/ac/DP(18dBm),5300/20-Ce/ac/DP(18dBm),5500/20-Ce/ac/DP(25dBm),
            5505/20-Ce/ac/DP(25dBm),5510/20-Ce/ac/DP(25dBm),5515/20-Ce/ac/DP(25dBm),5520/20-Ce/ac/DP(25dBm),
            5525/20-Ce/ac/DP(25dBm),5530/20-Ce/ac/DP(25dBm),5535/20-Ce/ac/DP(25dBm),5540/20-Ce/ac/DP(25dBm),
            5545/20-Ce/ac/DP(25dBm),5550/20-Ce/ac/DP(25dBm),5555/20-Ce/ac/DP(25dBm),5560/20-Ce/ac/DP(25dBm),
            5565/20-Ce/ac/DP(25dBm),5570/20-Ce/ac/DP(25dBm),5575/20-Ce/ac/DP(25dBm),5580/20-Ce/ac/DP(25dBm),
            5585/20-Ce/ac/DP(25dBm),5590/20-Ce/ac/DP(25dBm),5595/20-Ce/ac/DP(25dBm),5600/20-Ce/ac/DP(25dBm),
            5605/20-Ce/ac/DP(25dBm),5610/20-Ce/ac/DP(25dBm),5615/20-Ce/ac/DP(25dBm),5620/20-Ce/ac/DP(25dBm),
            5625/20-Ce/ac/DP(25dBm),5630/20-Ce/ac/DP(25dBm),5635/20-Ce/ac/DP(25dBm),5640/20-Ce/ac/DP(25dBm),
            5645/20-Ce/ac/DP(25dBm),5650/20-Ce/ac/DP(25dBm),5655/20-Ce/ac/DP(25dBm),5660/20-Ce/ac/DP(25dBm),
            5665/20-Ce/ac/DP(25dBm),5670/20-Ce/ac/DP(25dBm),5675/20-Ce/ac/DP(25dBm),5680/20-Ce/ac/DP(25dBm)

[admin@MktwAPac] /interface wireless info> allowed-channels 
interface: wlan1
  channels: 2412/20/gn(18dBm),2417/20/gn(18dBm),2422/20/gn(18dBm),2427/20/gn(18dBm),2432/20/gn(18dBm),
            2437/20/gn(18dBm),2442/20/gn(18dBm),2447/20/gn(18dBm),2452/20/gn(18dBm),2457/20/gn(18dBm),
            2462/20/gn(18dBm),2467/20/gn(18dBm),2472/20/gn(18dBm)
```

Well the power settings on a MT are not simple with the later devices and higher RouterOS versions.What I assume as what it does ......- TX power, certainly in Europe, is limited by the regulatory domain max EIRP (20dBm for 2.4GHz, 23dBm and 20 dBm for 5GHz indoor only freq, 27 dBm for 5GHz also outdoor freq)See CLI: " interface wireless info country-info etsi" or replace etsi with your country- TX power is limited at the higher MCS encoding because of the needed signal quality (see data sheets)- TX power used to be given as information in "Current TX power", and power could be set per MCS. Now only "all rate fixed" can be used. Andno feedback is given.The only line of information visible in RouterOS GUI is in the "status". All possible values of this can be seen with: "/interface wireless info allowed-channels"It is the calculation of the EIRP limit, reduced with the antenna gain filled in or set by default. In text below wAP has "antenna gain=2" setAs far as I verified there is no reduction for the multiple antenna in the status info,  not even for 2.4GHz "n" where it is set "per antenna", versus "ac" where it is total (see wiki)The EIRP table values get sometimes updated with ROS releasesCode:Select allThe manual TX-power "all rates fixed" filled in value, does not change this status line. So there you can not see what the TX-power used actually is.The value in the status line will be the maximum used !But as the wiki says you should set the TX-power per antenna for all protocols except "ac" chipsets where you should give the total. "802.11n wireless chipsets represent power per chain and the 802.11ac wireless chipsets represent the total power". This does not fit with the above data, which is always the total power, or not? The multiple antenna must be compensated for, so with 2 it is 3dBm lower per antenna.And with no feedback, what are we doing when we set manual TX-power to 17 , on "n" chipsets and what on "ac" chipsets?The max is 'status_dBm - 3dBm' ??


---
### Author: Fri Feb 11, 2022 7:26 am
Date: Unknown

Well the power settings on a MT are not simple with the later devices and higher RouterOS versions.What I assume as what it does ......- TX power, certainly in Europe, is limited by the regulatory domain max EIRP (20dBm for 2.4GHz, 23dBm and 20 dBm for 5GHz indoor only freq, 27 dBm for 5GHz also outdoor freq)See CLI: " interface wireless info country-info etsi" or replace etsi with your country- TX power is limited at the higher MCS encoding because of the needed signal quality (see data sheets)- TX power used to be given as information in "Current TX power", and power could be set per MCS. Now only "all rate fixed" can be used. And no feedback is given.The only line of information visible in RouterOS GUI is in the "status". All possible values of this can be seen with: "/interface wireless info allowed-channels"It is the calculation of the EIRP limit, reduced with the antenna gain filled in or set by default. In text below wAP has "antenna gain=2" setAs far as I verified there is no reduction for the multiple antenna in the status info, not even for 2.4GHz "n" where it is set "per antenna", versus "ac" where it is total (see wiki)The EIRP table values get sometimes updated with ROS releasesCode: Select all[admin@Omnitik] > interface wireless info country-info etsiranges: 2402-2482/b,g,gn20,gn40(20dBm)5170-5250/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(23dBm)/passive,indoor5170-5330/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(20dBm)/dfs,passive,indoor5250-5330/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(20dBm)/dfs,passive,indoor5490-5710/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(27dBm)/dfs,passive5190-5310/a-turbo(20dBm)/dfs5180-5300/a-turbo(20dBm)/dfs5520-5680/a-turbo(27dBm)/dfs,passive5510-5670/a-turbo(27dBm)/dfs,passive902-927/b,g,g-turbo,gn20,gn40(30dBm)[admin@MktwAPac] /interface wireless info> allowed-channelsinterface: wlan2channels: 5180/20-Ce/ac/P(21dBm),5185/20-Ce/ac/P(21dBm),5190/20-Ce/ac/P(21dBm),5195/20-Ce/ac/P(21dBm),5200/20-Ce/ac/P(21dBm),5205/20-Ce/ac/P(21dBm),5210/20-Ce/ac/P(21dBm),5215/20-Ce/ac/P(21dBm),5220/20-Ce/ac/P(21dBm),5180/20-Ce/ac/DP(18dBm),5185/20-Ce/ac/DP(18dBm),5190/20-Ce/ac/DP(18dBm),5195/20-Ce/ac/DP(18dBm),5200/20-Ce/ac/DP(18dBm),5205/20-Ce/ac/DP(18dBm),5210/20-Ce/ac/DP(18dBm),5215/20-Ce/ac/DP(18dBm),5220/20-Ce/ac/DP(18dBm),5225/20-Ce/ac/DP(18dBm),5230/20-Ce/ac/DP(18dBm),5235/20-Ce/ac/DP(18dBm),5240/20-Ce/ac/DP(18dBm),5245/20-Ce/ac/DP(18dBm),5250/20-Ce/ac/DP(18dBm),5255/20-Ce/ac/DP(18dBm),5260/20-Ce/ac/DP(18dBm),5265/20-Ce/ac/DP(18dBm),5270/20-Ce/ac/DP(18dBm),5275/20-Ce/ac/DP(18dBm),5280/20-Ce/ac/DP(18dBm),5285/20-Ce/ac/DP(18dBm),5290/20-Ce/ac/DP(18dBm),5295/20-Ce/ac/DP(18dBm),5300/20-Ce/ac/DP(18dBm),5260/20-Ce/ac/DP(18dBm),5265/20-Ce/ac/DP(18dBm),5270/20-Ce/ac/DP(18dBm),5275/20-Ce/ac/DP(18dBm),5280/20-Ce/ac/DP(18dBm),5285/20-Ce/ac/DP(18dBm),5290/20-Ce/ac/DP(18dBm),5295/20-Ce/ac/DP(18dBm),5300/20-Ce/ac/DP(18dBm),5500/20-Ce/ac/DP(25dBm),5505/20-Ce/ac/DP(25dBm),5510/20-Ce/ac/DP(25dBm),5515/20-Ce/ac/DP(25dBm),5520/20-Ce/ac/DP(25dBm),5525/20-Ce/ac/DP(25dBm),5530/20-Ce/ac/DP(25dBm),5535/20-Ce/ac/DP(25dBm),5540/20-Ce/ac/DP(25dBm),5545/20-Ce/ac/DP(25dBm),5550/20-Ce/ac/DP(25dBm),5555/20-Ce/ac/DP(25dBm),5560/20-Ce/ac/DP(25dBm),5565/20-Ce/ac/DP(25dBm),5570/20-Ce/ac/DP(25dBm),5575/20-Ce/ac/DP(25dBm),5580/20-Ce/ac/DP(25dBm),5585/20-Ce/ac/DP(25dBm),5590/20-Ce/ac/DP(25dBm),5595/20-Ce/ac/DP(25dBm),5600/20-Ce/ac/DP(25dBm),5605/20-Ce/ac/DP(25dBm),5610/20-Ce/ac/DP(25dBm),5615/20-Ce/ac/DP(25dBm),5620/20-Ce/ac/DP(25dBm),5625/20-Ce/ac/DP(25dBm),5630/20-Ce/ac/DP(25dBm),5635/20-Ce/ac/DP(25dBm),5640/20-Ce/ac/DP(25dBm),5645/20-Ce/ac/DP(25dBm),5650/20-Ce/ac/DP(25dBm),5655/20-Ce/ac/DP(25dBm),5660/20-Ce/ac/DP(25dBm),5665/20-Ce/ac/DP(25dBm),5670/20-Ce/ac/DP(25dBm),5675/20-Ce/ac/DP(25dBm),5680/20-Ce/ac/DP(25dBm)[admin@MktwAPac] /interface wireless info> allowed-channelsinterface: wlan1channels: 2412/20/gn(18dBm),2417/20/gn(18dBm),2422/20/gn(18dBm),2427/20/gn(18dBm),2432/20/gn(18dBm),2437/20/gn(18dBm),2442/20/gn(18dBm),2447/20/gn(18dBm),2452/20/gn(18dBm),2457/20/gn(18dBm),2462/20/gn(18dBm),2467/20/gn(18dBm),2472/20/gn(18dBm)The manual TX-power "all rates fixed" filled in value, does not change this status line. So there you can not see what the TX-power used actually is. The value in the status line will be the maximum used ! But as the wiki says you should set the TX-power per antenna for all protocols except "ac" chipsets where you should give the total. "802.11n wireless chipsets represent power per chain and the 802.11ac wireless chipsets represent the total power". This does not fit with the above data, which is always the total power, or not? The multiple antenna must be compensated for, so with 2 it is 3dBm lower per antenna. And with no feedback, what are we doing when we set manual TX-power to 17 , on "n" chipsets and what on "ac" chipsets? The max is 'status_dBm - 3dBm' ??Thank you for your detailed answer. Based on that I can conclude that I won't be able to increase the power. Then what are other ways to improve the situation that devices switch to 2.4GHz though 5GHz RSSI is quite acceptable?http://prntscr.com/26thu4f


---
### Author: Fri Feb 11, 2022 8:35 am
Date: Unknown

```
[admin@Omnitik] > interface wireless info country-info etsi
  ranges: 2402-2482/b,g,gn20,gn40(20dBm)
          5170-5250/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(23dBm)/passive,indoor
          5170-5330/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(20dBm)/dfs,passive,indoor
          5250-5330/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(20dBm)/dfs,passive,indoor
          5490-5710/a,an20,an40,ac20,ac40,ac80,ac160,ac80+80(27dBm)/dfs,passive
          5190-5310/a-turbo(20dBm)/dfs
          5180-5300/a-turbo(20dBm)/dfs
          5520-5680/a-turbo(27dBm)/dfs,passive
          5510-5670/a-turbo(27dBm)/dfs,passive
          902-927/b,g,g-turbo,gn20,gn40(30dBm)


[admin@MktwAPac] /interface wireless info> allowed-channels 
interface: wlan2
  channels: 5180/20-Ce/ac/P(21dBm),5185/20-Ce/ac/P(21dBm),5190/20-Ce/ac/P(21dBm),5195/20-Ce/ac/P(21dBm),
            5200/20-Ce/ac/P(21dBm),5205/20-Ce/ac/P(21dBm),5210/20-Ce/ac/P(21dBm),5215/20-Ce/ac/P(21dBm),
            5220/20-Ce/ac/P(21dBm),5180/20-Ce/ac/DP(18dBm),5185/20-Ce/ac/DP(18dBm),5190/20-Ce/ac/DP(18dBm),
            5195/20-Ce/ac/DP(18dBm),5200/20-Ce/ac/DP(18dBm),5205/20-Ce/ac/DP(18dBm),5210/20-Ce/ac/DP(18dBm),
            5215/20-Ce/ac/DP(18dBm),5220/20-Ce/ac/DP(18dBm),5225/20-Ce/ac/DP(18dBm),5230/20-Ce/ac/DP(18dBm),
            5235/20-Ce/ac/DP(18dBm),5240/20-Ce/ac/DP(18dBm),5245/20-Ce/ac/DP(18dBm),5250/20-Ce/ac/DP(18dBm),
            5255/20-Ce/ac/DP(18dBm),5260/20-Ce/ac/DP(18dBm),5265/20-Ce/ac/DP(18dBm),5270/20-Ce/ac/DP(18dBm),
            5275/20-Ce/ac/DP(18dBm),5280/20-Ce/ac/DP(18dBm),5285/20-Ce/ac/DP(18dBm),5290/20-Ce/ac/DP(18dBm),
            5295/20-Ce/ac/DP(18dBm),5300/20-Ce/ac/DP(18dBm),5260/20-Ce/ac/DP(18dBm),5265/20-Ce/ac/DP(18dBm),
            5270/20-Ce/ac/DP(18dBm),5275/20-Ce/ac/DP(18dBm),5280/20-Ce/ac/DP(18dBm),5285/20-Ce/ac/DP(18dBm),
            5290/20-Ce/ac/DP(18dBm),5295/20-Ce/ac/DP(18dBm),5300/20-Ce/ac/DP(18dBm),5500/20-Ce/ac/DP(25dBm),
            5505/20-Ce/ac/DP(25dBm),5510/20-Ce/ac/DP(25dBm),5515/20-Ce/ac/DP(25dBm),5520/20-Ce/ac/DP(25dBm),
            5525/20-Ce/ac/DP(25dBm),5530/20-Ce/ac/DP(25dBm),5535/20-Ce/ac/DP(25dBm),5540/20-Ce/ac/DP(25dBm),
            5545/20-Ce/ac/DP(25dBm),5550/20-Ce/ac/DP(25dBm),5555/20-Ce/ac/DP(25dBm),5560/20-Ce/ac/DP(25dBm),
            5565/20-Ce/ac/DP(25dBm),5570/20-Ce/ac/DP(25dBm),5575/20-Ce/ac/DP(25dBm),5580/20-Ce/ac/DP(25dBm),
            5585/20-Ce/ac/DP(25dBm),5590/20-Ce/ac/DP(25dBm),5595/20-Ce/ac/DP(25dBm),5600/20-Ce/ac/DP(25dBm),
            5605/20-Ce/ac/DP(25dBm),5610/20-Ce/ac/DP(25dBm),5615/20-Ce/ac/DP(25dBm),5620/20-Ce/ac/DP(25dBm),
            5625/20-Ce/ac/DP(25dBm),5630/20-Ce/ac/DP(25dBm),5635/20-Ce/ac/DP(25dBm),5640/20-Ce/ac/DP(25dBm),
            5645/20-Ce/ac/DP(25dBm),5650/20-Ce/ac/DP(25dBm),5655/20-Ce/ac/DP(25dBm),5660/20-Ce/ac/DP(25dBm),
            5665/20-Ce/ac/DP(25dBm),5670/20-Ce/ac/DP(25dBm),5675/20-Ce/ac/DP(25dBm),5680/20-Ce/ac/DP(25dBm)

[admin@MktwAPac] /interface wireless info> allowed-channels 
interface: wlan1
  channels: 2412/20/gn(18dBm),2417/20/gn(18dBm),2422/20/gn(18dBm),2427/20/gn(18dBm),2432/20/gn(18dBm),
            2437/20/gn(18dBm),2442/20/gn(18dBm),2447/20/gn(18dBm),2452/20/gn(18dBm),2457/20/gn(18dBm),
            2462/20/gn(18dBm),2467/20/gn(18dBm),2472/20/gn(18dBm)
```

Well the power settings on a MT are not simple with the later devices and higher RouterOS versions.What I assume as what it does ......- TX power, certainly in Europe, is limited by the regulatory domain max EIRP (20dBm for 2.4GHz, 23dBm and 20 dBm for 5GHz indoor only freq, 27 dBm for 5GHz also outdoor freq)See CLI: " interface wireless info country-info etsi" or replace etsi with your country- TX power is limited at the higher MCS encoding because of the needed signal quality (see data sheets)- TX power used to be given as information in "Current TX power", and power could be set per MCS. Now only "all rate fixed" can be used. Andno feedback is given.The only line of information visible in RouterOS GUI is in the "status". All possible values of this can be seen with: "/interface wireless info allowed-channels"It is the calculation of the EIRP limit, reduced with the antenna gain filled in or set by default. In text below wAP has "antenna gain=2" setAs far as I verified there is no reduction for the multiple antenna in the status info,  not even for 2.4GHz "n" where it is set "per antenna", versus "ac" where it is total (see wiki)The EIRP table values get sometimes updated with ROS releasesCode:Select allThe manual TX-power "all rates fixed" filled in value, does not change this status line. So there you can not see what the TX-power used actually is.The value in the status line will be the maximum used !But as the wiki says you should set the TX-power per antenna for all protocols except "ac" chipsets where you should give the total. "802.11n wireless chipsets represent power per chain and the 802.11ac wireless chipsets represent the total power". This does not fit with the above data, which is always the total power, or not? The multiple antenna must be compensated for, so with 2 it is 3dBm lower per antenna.And with no feedback, what are we doing when we set manual TX-power to 17 , on "n" chipsets and what on "ac" chipsets?The max is 'status_dBm - 3dBm' ??Thank you for your detailed answer. Based on that I can conclude that I won't be able to increase the power. Then what are other ways to improve the situation that devices switch to 2.4GHz though 5GHz RSSI is quite acceptable?http://prntscr.com/26thu4f


---
### Author: Sat Dec 14, 2024 12:10 am
Date: Unknown

```
/export file=anynameyoulike
```

Mikrotik 7.17 - band steering does not work even neighborhood group is selectedYou could show your config just to make sure that all settings are correct.Code:Select allRemove serial and any other private info.


---
### Author: Sat Dec 14, 2024 12:08 pm
Date: Unknown

```
/interface wifi channel
add disabled=no frequency=2412,2437,2462 name=2.4Ghz reselect-interval=3h..4h \
    width=20mhz
add disabled=no name=5Ghz reselect-interval=4h..5h skip-dfs-channels=\
    10min-cac
/interface wifi configuration
add country=Sweden datapath.vlan-id=10 disabled=no mode=ap name=production \
    ssid=main
add country=Sweden datapath.vlan-id=20 disabled=no name=guest \
    security.authentication-types=wpa2-psk,wpa3-psk ssid=guest
/interface wifi security
add authentication-types=wpa2-psk,wpa3-psk disabled=no name=production wps=\
    disable
add authentication-types=wpa2-psk,wpa3-psk disable-pmkid=yes disabled=no \
    name=guest wps=disable
/interface wifi
set [ find default-name=wifi2 ] channel=2.4Ghz channel.frequency=\
    2412,2437,2462 configuration=production configuration.mode=ap disabled=no \
    mac-address=78:9A:18:36:27:DC name=2Ghz security=production \
    steering.neighbor-group=dynamic-main-64b37b74
set [ find default-name=wifi1 ] channel=5Ghz channel.frequency=5170-5730 \
    configuration=production configuration.mode=ap disabled=no mtu=1500 name=\
    5Ghz security=production steering.neighbor-group=dynamic-main-64b37b74
add configuration=guest configuration.mode=ap disabled=no mac-address=\
    7A:9A:18:36:27:DE master-interface=5Ghz name="5Ghz Guest" security=guest \
    steering.neighbor-group=dynamic-guest-b9af47c9
add configuration=guest configuration.mode=ap disabled=no mac-address=\
    7A:9A:18:36:27:DB master-interface=2Ghz name="2.4Ghz Guest" security=\
    guest security.authentication-types=wpa2-psk,wpa3-psk \
    steering.neighbor-group=dynamic-guest-b9af47c9
add configuration.mode=ap .ssid=iot datapath.vlan-id=40 disabled=no \
    mac-address=7A:9A:18:36:27:DD master-interface=2Ghz name="2.4Ghz IoT" \
    security.authentication-types=wpa-psk,wpa2-psk .disable-pmkid=yes
```

You did not mean those whole config, right?At the moment i am doing a workaround with access list by blocking strong signal from 2.4GhzCode:Select all


---
### Author: Mon Dec 16, 2024 8:39 am
Date: Unknown

```
07:17:30 wireless,info <station-MAC>@<old_WiFi_radio> roamed to <station-MAC>@<new_WiFi_radio>, signal strength -75
 07:17:30 wireless,debug <station-MAC>@<old_WiFi_radio> disassociated, connected to other interface, signal strength -88
```

```
15:53:58 wireless,info <station-MAC>@<old_WiFi_radio>: disconnected, extensive data loss, signal strength -75
```

Seems that connect-priority 0/1 improved the situation. Devices now do switch to 5ghz, but it does not seem due to actual steering, but because they eventually take that decision themselves.WiFi standards (802.11anything) don't standardize handovers (at decision of network entity), they standardize steering ... which helps device to decide if and when to switch to different BSSID inside same SSID. The difference between no steering and steering more or less boils down to duration of connectivity outage during switch over (with steering it's pretty short, without steering it can take seconds). But decision is always device's.The difference is also seen in logs. With steering logs will say something likeCode:Select allso "roamed to ... disassociated".And without steering, logs will say something likeCode:Select allso "disconnected".


---
### Author: Mon Dec 16, 2024 10:15 pm
Date: Unknown

```
/system logging set topics=debug,info,wireless action=memory
```

the debug output can be enabled within the logging section under system or as example for wireless:Code:Select allThat's it. BTW: here you could set up as well sending emails per log event (such as user login for example)


---
### Author: Wed Dec 18, 2024 12:08 am
Date: Unknown

```
/system logging set topics=debug,info,wireless action=memory
```

the debug output can be enabled within the logging section under system or as example for wireless:Code:Select allThat's it. BTW: here you could set up as well sending emails per log event (such as user login for example)Appreceate, thank you.

