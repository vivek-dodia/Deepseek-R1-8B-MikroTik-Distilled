---
title: Untitled Thread
source_url: https://forum.mikrotik.com/viewtopic.php?f=2&t=213691&p=1118434&amp;sid=3b77a3334c914448dbbc02bfdff4c3aa#p1118434
crawled_date: 2025-02-02T21:56:50.229534
section: mikrotik_forum
type: forum_thread
keywords: nat, bridge, vpn, route, configuration
---

### Author: Sat Jan 04, 2025 11:33 pm
Date: Unknown

I have a MikroTik router behind CGNAT. I have enabled back-to-home-vpn on this router (router1) and have successfully configured both an android phone and a windows computer to connect to the router. I would like to configure another MikroTik router (router2) to connect to the back-to-home-vpn router using a wireguard tunnel to bridge the two LANs together.I've tried to use WG Import function to import the wireguard configuration file into router2 for the peer that I've created on the back-to-home-vpn router1, but that fails with a parsing error. Can someone provide me a prototype, sample configuration that I can use on router2 that will allow me to successfully bridge the two LANs?


---
### Author: Sat Jan 04, 2025 11:53 pm
Date: Unknown

You cannot.The BTH feature is for individual devices only  ( smartphones, ipads, laptops, PCs )If you have two wireguard devices that you wish to connect together, then,a. change one of the ISPs so that you can get a public IP either on the MT itself or at least on the ISP modem/router  where it can forward a port to your MT routerORb.  purchase a CHR license and then a monthly subscription to the CLOUD server of your choice, lots available in the $7 per month range.ORc.  find a friend with mikrotik router that can act like a CHR for both your routers,  they will connect to the friends router and then will be able to be connected to each other.


---
### Author: Sun Jan 05, 2025 12:30 am
Date: Unknown

```
/interface/wireguard/peers/print/interface/wireguard/peers/show-client-config<#>file=wgpeer
```

```
/interface/wireguard/wg-importfile=wgpeer
```

I believe youmightbe able to but not an easily.   First, using wg-export is wrong - that's going to replicate the entire wireguard config...  While what I think you want to do is make the router2 as peer to router1's BTH.So you need to create an additional BTH user ("shared user") via app or /ip/cloud/back-to-home-users/...  And then using CLI find the new BTH user using /interface/wireguard/peer/print and "show-client-config" with a file=, replacing the <#> with line number for new BTH peer:Code:Select allAnd download "wgpeer" from Files for import into router2.Then on router2, copy the saved "wgpeer" file to router2's files, and at CLI useCode:Select allThis will NOT alone bridge (or routing) between networks, but you should have a L3 connection with 192.168.216.1/24 being router1's gateway address.  So if router2 can ping 192.168.216.1, the WG peer is working.There are a few approaches to "bridging the LANs", one being EoIP using WG.  Or, you may be able get by with routing if router1 and router2 are using different LAN subnets (i.e. by adding static /ip/route on each route using the remote BTH IP address as the gateway).  But I'd try above "show-client-config" on router1 and "wg-import" on router2 and see if "ping" works via CGNAT.


---
### Author: Fri Jan 10, 2025 6:24 pm
Date: Unknown

On routerA it's needed because routerB is trying to connect to the routerA thought the internet and without that rule firewall would drop the traffic.Perhaps there is some outbound traffic from that port that opens up a hole in routerB allowing response traffic? Anyway, I think it does not hurt to leave that rule in place.Yup, that could be happening.  It take more dissecting your config rules to know for sure - there is not actually one default configuration and /interface/list stuff matter too...  I can say you'd need/want the allow filter rule if RouterB had a public IP, but if using the proxy then outbound is all that's needed.Keep in mind BTH will also use IPv6, so if that's enabled... it's possible your WG peers are going via IPv6 too.

